<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>ç¼ªæ–¯æ˜Ÿå®˜æ–¹é¦–é¡µà¸…^â‰§Ï‰â‰¦^à¸…ğŒğ”ğ’ğ„ğ’ğ“ğ€ğ‘</title>
    <meta name="keywords" content="é«˜æ¸…,ä¸‹è½½,ç¼ªæ–¯æ˜Ÿ,MUSESTAR,ç•ªå‰§,ç”µå½±,åœ¨çº¿è§‚çœ‹,ç”µè§†å‰§,å‰§é›†">
    <meta name="description" content="ğŒğ”ğ’ğ„ğ’ğ“ğ€ğ‘ç¼ªæ–¯æ˜Ÿæ­£åœ¨æŒç»­æ”¶é›†åŠ¨æ¼«ç•ªå‰§ã€ç”µå½±ã€å‰§é›†ç­‰ï¼Œç»™æ‚¨å…è´¹æ’­æ”¾ç½‘ç«™ä¸­çš„æœ€å¥½ä½“éªŒï¼à¸…^â‰§Ï‰â‰¦^à¸…">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="/files/css/alpha.css">
        <!-- Clarity tracking code for https://musestar.cc/ -->
        <script>
            (function (c, l, a, r, i, t, y) {
                c[a] = c[a] || function () {
                    (c[a].q = c[a].q || []).push(arguments)
                };
                t = l.createElement(r);
                t.async = 1;
                t.src = "https://www.clarity.ms/tag/" + i + "?ref=bwt";
                y = l.getElementsByTagName(r)[0];
                y.parentNode.insertBefore(t, y);
            })(window, document, "clarity", "script", "fvlvixulu7");
        </script>    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script>
        // è®¾ç½®é»˜è®¤ä¸»é¢˜ä¸ºé»‘è‰²æ¨¡å¼
        document.documentElement.setAttribute('data-theme', 'dark');
    </script>
    <script>
        // æ£€æµ‹ç§»åŠ¨è®¾å¤‡æˆ–å°å±å¹•å¹¶é‡å®šå‘
        (function() {
            var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            var isSmallScreen = window.innerWidth < 768;
            if (isMobile || isSmallScreen) {
                window.location.href = 'oldindex';
            }
        })();
    </script>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <div class="navbar">
        <div class="nav-left">
            <div class="logo-container">
                <img src="https://s1.imagehub.cc/images/2025/03/14/75aca0f31bd08308fa150301c0ec6589.png" alt="Logo" class="logo">
            </div>
            <div class="nav-links">
                <a href="animation">ç¼ªæ–¯æ˜ŸåŠ¨æ¼«</a>
                <a href="movie">ç¼ªæ–¯æ˜Ÿå½±è§†</a>
                <a href="musestar">ç¼ªæ–¯æ˜Ÿå®˜æ–¹</a>
            </div>
        </div>
        <div class="nav-right">
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="æœç´¢åŠ¨æ¼«ã€å½±è§†...">
            </div>
            <div class="user-avatar">
                <i class="fas fa-user"></i>
            </div>
            <button class="theme-toggle" type="button" aria-label="åˆ‡æ¢ä¸»é¢˜">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </div>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <div class="main-content">
        <!-- è½®æ’­å›¾éƒ¨åˆ† -->
        <div class="middle-section">
            <div class="carousel">
                <div class="carousel-container">
                    <!-- è½®æ’­å›¾å†…å®¹å°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                <div class="carousel-dots">
                    <!-- æŒ‡ç¤ºç‚¹å°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                <button class="carousel-btn prev">â®</button>
                <button class="carousel-btn next">â¯</button>
            </div>
        </div>

        <!-- æ¨ªå‘é€‰é¡¹æ¡† -->
        <div class="horizontal-section">
            <div class="section-title">
                <i class="fas fa-th"></i>
                æœ€è¿‘æ›´æ–°
            </div>
            <div class="anime-grid">
                <!-- å†…å®¹å°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>

        <!-- åŠ¨æ¼«æ›´æ–°æ—¶é—´è¡¨ -->
        <div class="schedule-section">
            <div class="section-title">
                <i class="fas fa-calendar-alt"></i>
                æ–°ç•ªæ›´æ–°æ—¶é—´è¡¨
            </div>
            <!-- ä½¿ç”¨çº¯JavaScriptå®ç°æ°´å¹³é€‰é¡¹å¡ -->
            <div class="schedule-tabs-container">
                <div class="schedule-tab" data-day="monday">å‘¨ä¸€</div>
                <div class="schedule-tab" data-day="tuesday">å‘¨äºŒ</div>
                <div class="schedule-tab" data-day="wednesday">å‘¨ä¸‰</div>
                <div class="schedule-tab" data-day="thursday">å‘¨å››</div>
                <div class="schedule-tab" data-day="friday">å‘¨äº”</div>
                <div class="schedule-tab" data-day="saturday">å‘¨å…­</div>
                <div class="schedule-tab" data-day="sunday">å‘¨æ—¥</div>
            </div>
            <div class="schedule-content">
                <!-- å†…å®¹å°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>

        <!-- ä¸‹æ–¹ç«–æ’é€‰é¡¹æ¡† -->
        <div class="vertical-section-container">
            <div class="section-title">
                <i class="fas fa-list"></i>
                åŠ¨æ¼«åˆ—è¡¨
                <a href="animation" class="view-all-btn">æŸ¥çœ‹å…¨éƒ¨</a>
            </div>
            <div class="vertical-section">
                <!-- å†…å®¹å°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>

        <!-- å½±è§†åˆ—è¡¨ -->
        <div class="vertical-section-container">
            <div class="section-title">
                <i class="fas fa-film"></i>
                å½±è§†åˆ—è¡¨
                <a href="movie" class="view-all-btn">æŸ¥çœ‹å…¨éƒ¨</a>
            </div>
            <div class="vertical-section" id="movie-section">
                <!-- å†…å®¹å°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>

        <!-- æ¼”å”±ä¼šåˆ—è¡¨ -->
        <div class="vertical-section-container">
            <div class="section-title">
                <i class="fas fa-music"></i>
                æ¼”å”±ä¼šåˆ—è¡¨
                <a href="musestar" class="view-all-btn">æŸ¥çœ‹å…¨éƒ¨</a>
            </div>
            <div class="vertical-section" id="concert-section">
                <!-- å†…å®¹å°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <!-- å›åˆ°é¡¶éƒ¨æŒ‰é’® -->
    <div class="back-to-top">
        <i class="fas fa-arrow-up"></i>
    </div>

    <!-- ç§»åŠ¨ç«¯åº•éƒ¨å¯¼èˆªæ  -->
    <div class="mobile-navbar">
        <a href="index" class="mobile-nav-item">
            <i class="fas fa-home"></i>
            <span>é¦–é¡µ</span>
        </a>
        <a href="animation" class="mobile-nav-item">
            <i class="fas fa-play"></i>
            <span>åŠ¨æ¼«</span>
        </a>
        <a href="movie" class="mobile-nav-item">
            <i class="fas fa-film"></i>
            <span>å½±è§†</span>
        </a>
        <a href="musestar" class="mobile-nav-item">
            <i class="fas fa-star"></i>
            <span>å®˜æ–¹</span>
        </a>
    </div>

    <!-- ç§»åŠ¨ç«¯ä¸»é¢˜åˆ‡æ¢æŒ‰é’® -->
    <div class="mobile-theme-toggle">
        <i class="fas fa-moon"></i>
    </div>

    <!-- å…¬å‘ŠåŒºåŸŸ -->
    <div class="announcement">
        <i class="fas fa-bullhorn"></i>
        <div class="announcement-content"></div>
        <div class="announcement-close">
            <i class="fas fa-times"></i>
        </div>
    </div>

    <!-- æ·»åŠ åº•æ  -->
    <footer class="footer">
        <!-- åº•æ å†…å®¹å°†ç”±under.jsç”Ÿæˆ -->
    </footer>

    <!-- å¼•å…¥åº•æ è„šæœ¬ -->
    <script src="files/js/modern-footer.js"></script>
    
    <!-- å¼•å…¥æ•°æ®æ–‡ä»¶ -->
    <script src="files/js/carousel-data.js"></script>
    <script src="files/js/schedule-data.js"></script>
    <script src="files/js/horizontal-anime-data.js"></script>
    <script src="files/js/vertical-anime-data.js"></script>
    <script src="files/js/vertical-movie-data.js"></script>
    <script src="files/js/vertical-concert-data.js"></script>
    <script src="files/js/announcement-data.js"></script>
    
    <!-- æ·»åŠ æ‡’åŠ è½½åŠŸèƒ½ -->
    <script>
        // æ‡’åŠ è½½è§‚å¯Ÿå™¨
        document.addEventListener('DOMContentLoaded', function() {
            // åˆ›å»ºäº¤å‰è§‚å¯Ÿå™¨å®ä¾‹
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    // å¦‚æœå…ƒç´ è¿›å…¥è§†å£
                    if (entry.isIntersecting) {
                        const container = entry.target;
                        
                        // æ ¹æ®å®¹å™¨ç±»å‹åŠ è½½ä¸åŒå†…å®¹
                        if (container.classList.contains('vertical-section-container')) {
                            // å»¶è¿ŸåŠ è½½å‚ç›´éƒ¨åˆ† - æ”¹ä¸ºåˆ†æ‰¹åŠ è½½
                            const sectionId = container.querySelector('.vertical-section').id;
                            if (sectionId === 'movie-section') {
                                renderVerticalSectionProgressively(sectionId, verticalMovieData);
                            } else if (sectionId === 'concert-section') {
                                renderVerticalSectionProgressively(sectionId, verticalConcertData);
                            } else {
                                renderVerticalSectionProgressively(null, verticalAnimeData);
                            }
                        } else if (container.classList.contains('schedule-section')) {
                            // å»¶è¿ŸåŠ è½½æ—¶é—´è¡¨ - æ”¹ä¸ºåˆ†æ‰¹åŠ è½½
                            renderScheduleTabsProgressively();
                        }
                        
                        // åœæ­¢è§‚å¯Ÿå·²åŠ è½½çš„å…ƒç´ 
                        observer.unobserve(container);
                    }
                });
            }, {
                root: null, // ä½¿ç”¨è§†å£ä½œä¸ºæ ¹
                rootMargin: '100px', // æå‰100pxå¼€å§‹åŠ è½½
                threshold: 0.1 // å½“10%çš„å…ƒç´ å¯è§æ—¶è§¦å‘
            });
            
            // å¼€å§‹è§‚å¯Ÿå„ä¸ªå®¹å™¨
            document.querySelectorAll('.vertical-section-container, .schedule-section').forEach(container => {
                observer.observe(container);
            });
        });
        
        // åˆ†æ‰¹æ¸²æŸ“å‚ç›´éƒ¨åˆ†çš„å‡½æ•°
        function renderVerticalSectionProgressively(sectionId, data) {
            const container = sectionId ? 
                document.getElementById(sectionId) : 
                document.querySelector('.vertical-section');
            
            if (!container) {
                console.error('æ‰¾ä¸åˆ°å‚ç›´éƒ¨åˆ†å®¹å™¨å…ƒç´ ');
                return;
            }
            
            // æ¸…ç©ºå®¹å™¨
            container.innerHTML = '';
            
            // ä½¿ç”¨å¤–éƒ¨æ•°æ®å¡«å……åˆ—è¡¨ï¼Œæœ€å¤šæ˜¾ç¤º10ä¸ª
            const maxItems = Math.min(data.length, 10);
            
            // åˆ†æ‰¹åŠ è½½å¡ç‰‡
            function loadCardsProgressively(index) {
                if (index >= maxItems) {
                    return; // æ‰€æœ‰å¡ç‰‡éƒ½å·²åŠ è½½å®Œæˆ
                }
                
                const item = data[index];
                const card = document.createElement('div');
                card.className = 'vertical-card';
                
                // æ„å»ºå¡ç‰‡HTML
                card.innerHTML = `
                    <div class="img-container" style="position: relative; width: 100%;">
                        <img src="${item.image}" alt="${item.title}" loading="lazy" onerror="this.src='https://s1.imagehub.cc/images/2024/12/08/error-image.jpg';">
                        <div class="country-tag">${item.country || 'æ—¥æœ¬'}</div>
                        <div class="type-tag">${item.type || (sectionId === 'movie-section' ? 'ç”µå½±' : (sectionId === 'concert-section' ? 'æ¼”å”±ä¼š' : 'åŠ¨ç”»'))}</div>
                        <div class="episode-count" style="position: absolute; right: 10px; bottom: 10px;">${item.episodes || item.duration || 'æœªçŸ¥'}</div>
                    </div>
                    <div class="title">${item.title}</div>
                    <div class="release-date">${item.releaseDate || '2024'}</div>
                `;
                
                // æ·»åŠ ç‚¹å‡»è·³è½¬åŠŸèƒ½
                if (item.url) {
                    card.style.cursor = 'pointer';
                    card.addEventListener('click', function() {
                        window.location.href = item.url;
                    });
                }
                
                // æ·»åŠ åˆ°å®¹å™¨
                container.appendChild(card);
                
                // ä½¿ç”¨åŠ¨ç”»æ•ˆæœæ˜¾ç¤ºå¡ç‰‡
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
                
                // ä½¿ç”¨requestAnimationFrameç¡®ä¿è¿‡æ¸¡æ•ˆæœç”Ÿæ•ˆ
                requestAnimationFrame(() => {
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 10);
                });
                
                // å»¶è¿ŸåŠ è½½ä¸‹ä¸€ä¸ªå¡ç‰‡
                setTimeout(() => {
                    loadCardsProgressively(index + 1);
                }, 50); // 50msçš„å»¶è¿Ÿ
            }
            
            // å¼€å§‹åˆ†æ‰¹åŠ è½½
            loadCardsProgressively(0);
        }
        
        // åˆ†æ‰¹æ¸²æŸ“æ—¶é—´è¡¨é€‰é¡¹å¡çš„å‡½æ•°
        function renderScheduleTabsProgressively() {
            const tabsContainer = document.querySelector('.schedule-tabs-container');
            const contentContainer = document.querySelector('.schedule-content');
            
            if (!tabsContainer || !contentContainer) {
                console.error('æ‰¾ä¸åˆ°æ—¶é—´è¡¨å®¹å™¨å…ƒç´ ');
                return;
            }
            
            // æ¸…ç©ºå®¹å™¨
            contentContainer.innerHTML = '';
            
            // ä½¿ç”¨æ–‡æ¡£ç‰‡æ®µå‡å°‘DOMé‡ç»˜
            const contentFragment = document.createDocumentFragment();
            
            // é¢„å…ˆåˆ›å»ºæ‰€æœ‰æ—¥æœŸçš„å†…å®¹ï¼Œä½†ä¸ç«‹å³æ·»åŠ åˆ°DOM
            const dayContents = {};
            
            // è·å–æ‰€æœ‰æ—¥æœŸ
            const days = Object.keys(scheduleData);
            
            // è®¾ç½®é€‰é¡¹å¡ç‚¹å‡»äº‹ä»¶ - ä½¿ç”¨äº‹ä»¶å§”æ‰˜å‡å°‘äº‹ä»¶ç›‘å¬å™¨æ•°é‡
            tabsContainer.addEventListener('click', function(e) {
                const tab = e.target.closest('.schedule-tab');
                if (!tab) return;
                
                const day = tab.getAttribute('data-day');
                
                // æ›´æ–°é€‰é¡¹å¡æ ·å¼
                const tabs = tabsContainer.querySelectorAll('.schedule-tab');
                tabs.forEach(t => {
                    t.classList.remove('active');
                    t.style.backgroundColor = 'var(--card-bg)';
                    t.style.color = 'var(--text-color)';
                });
                tab.classList.add('active');
                tab.style.backgroundColor = 'var(--hover-color)';
                tab.style.color = 'white';
                
                // æ›´æ–°å†…å®¹æ˜¾ç¤º - ä½¿ç”¨ç¼“å­˜çš„å¼•ç”¨è€Œä¸æ˜¯é‡å¤æŸ¥è¯¢DOM
                Object.values(dayContents).forEach(content => {
                    content.style.display = 'none';
                });
                
                // æ˜¾ç¤ºå¯¹åº”æ—¥æœŸçš„å†…å®¹
                const dayContent = dayContents[day];
                if (dayContent) {
                    dayContent.style.display = 'grid';
                } else {
                    // å¦‚æœå†…å®¹å°šæœªåŠ è½½ï¼Œåˆ™åŠ è½½å®ƒ
                    loadDayContent(day, contentContainer, dayContents);
                }
            });
            
            // é»˜è®¤æ˜¾ç¤ºä»Šå¤©çš„æ—¶é—´è¡¨
            function setDefaultTab() {
                // è·å–ä»Šå¤©æ˜¯å‘¨å‡ ï¼ˆ0æ˜¯å‘¨æ—¥ï¼Œ1æ˜¯å‘¨ä¸€ï¼Œä»¥æ­¤ç±»æ¨ï¼‰
                const today = new Date().getDay();
                // å°†JSçš„æ—¥æœŸè½¬æ¢ä¸ºæˆ‘ä»¬çš„æ•°æ®æ ¼å¼
                const dayMap = {
                    0: 'sunday',
                    1: 'monday',
                    2: 'tuesday',
                    3: 'wednesday',
                    4: 'thursday',
                    5: 'friday',
                    6: 'saturday'
                };
                
                const todayString = dayMap[today];
                
                // æ‰¾åˆ°ä»Šå¤©å¯¹åº”çš„é€‰é¡¹å¡
                const todayTab = document.querySelector(`.schedule-tab[data-day="${todayString}"]`);
                if (todayTab) {
                    // è®¾ç½®ä»Šå¤©é€‰é¡¹å¡ä¸ºæ¿€æ´»çŠ¶æ€
                    todayTab.classList.add('active');
                    todayTab.style.backgroundColor = 'var(--hover-color)';
                    todayTab.style.color = 'white';
                    
                    // åŠ è½½å¹¶æ˜¾ç¤ºä»Šå¤©çš„å†…å®¹
                    loadDayContent(todayString, contentContainer, dayContents, true);
                } else {
                    // å¦‚æœæ‰¾ä¸åˆ°ä»Šå¤©çš„é€‰é¡¹å¡ï¼Œé»˜è®¤æ˜¾ç¤ºå‘¨ä¸€
                    const mondayTab = document.querySelector('.schedule-tab[data-day="monday"]');
                    if (mondayTab) {
                        mondayTab.classList.add('active');
                        mondayTab.style.backgroundColor = 'var(--hover-color)';
                        mondayTab.style.color = 'white';
                        
                        // åŠ è½½å¹¶æ˜¾ç¤ºå‘¨ä¸€çš„å†…å®¹
                        loadDayContent('monday', contentContainer, dayContents, true);
                    }
                }
            }
            
            // åˆ†æ‰¹åŠ è½½æ¯ä¸ªæ—¥æœŸçš„å†…å®¹
            function loadDaysProgressively(index) {
                if (index >= days.length) {
                    // æ‰€æœ‰æ—¥æœŸéƒ½å·²åŠ è½½å®Œæˆï¼Œè®¾ç½®é»˜è®¤é€‰é¡¹å¡
                    setDefaultTab();
                    return;
                }
                
                const day = days[index];
                
                // åŠ è½½å½“å‰æ—¥æœŸçš„å†…å®¹ï¼Œä½†ä¸æ˜¾ç¤º
                loadDayContent(day, contentContainer, dayContents, false);
                
                // å»¶è¿ŸåŠ è½½ä¸‹ä¸€ä¸ªæ—¥æœŸçš„å†…å®¹
                setTimeout(() => {
                    loadDaysProgressively(index + 1);
                }, 100); // 100msçš„å»¶è¿Ÿ
            }
            
            // å¼€å§‹åˆ†æ‰¹åŠ è½½
            loadDaysProgressively(0);
        }
        
        // åŠ è½½ç‰¹å®šæ—¥æœŸçš„å†…å®¹
        function loadDayContent(day, contentContainer, dayContents, shouldDisplay) {
            // åˆ›å»ºå†…å®¹åŒºåŸŸ
            const dayContent = document.createElement('div');
            dayContent.className = `${day}-content`;
            dayContent.style.display = shouldDisplay ? 'grid' : 'none';
            
            // ä½¿ç”¨æ–‡æ¡£ç‰‡æ®µå‡å°‘DOMé‡ç»˜
            const cardFragment = document.createDocumentFragment();
            
            // æ·»åŠ è¯¥æ—¥æœŸçš„æ‰€æœ‰åŠ¨æ¼«å¡ç‰‡
            scheduleData[day].forEach(anime => {
                const animeCard = document.createElement('div');
                animeCard.className = 'schedule-card';
                
                // æ„å»ºå¡ç‰‡HTMLï¼Œå°†è¯æ•°æ ‡ç­¾æ”¾åœ¨å›¾ç‰‡å†…éƒ¨
                animeCard.innerHTML = `
                    <div class="img-container" style="position: relative; width: 100%;">
                        <img src="${anime.image}" alt="${anime.title}" loading="lazy">
                        <div class="country-tag">${anime.country || 'æ—¥æœ¬'}</div>
                        <div class="type-tag">${anime.type || 'åŠ¨ç”»'}</div>
                        <div class="episode-count" style="position: absolute; right: 10px; bottom: 10px;">${anime.episodes || 'æœªçŸ¥'}</div>
                    </div>
                    <div class="title">${anime.title}</div>
                    <div class="time">${anime.time}</div>
                `;
                
                // æ·»åŠ ç‚¹å‡»è·³è½¬åŠŸèƒ½
                if (anime.url) {
                    animeCard.style.cursor = 'pointer';
                    animeCard.addEventListener('click', function() {
                        window.location.href = anime.url;
                    });
                }
                
                cardFragment.appendChild(animeCard);
            });
            
            // ä¸€æ¬¡æ€§æ·»åŠ æ‰€æœ‰å¡ç‰‡åˆ°å†…å®¹åŒºåŸŸ
            dayContent.appendChild(cardFragment);
            
            // å°†å†…å®¹åŒºåŸŸæ·»åŠ åˆ°å®¹å™¨
            contentContainer.appendChild(dayContent);
            
            // ç¼“å­˜å†…å®¹åŒºåŸŸçš„å¼•ç”¨
            dayContents[day] = dayContent;
        }
    </script>
    
    <!-- å¼•å…¥ä¸»è„šæœ¬å’Œå†…å®¹æ¸²æŸ“å™¨ -->
    <script src="files/js/main.js"></script>
    <script src="files/js/content-renderer.js"></script>
    
    <!-- æ·»åŠ ä¸»è¦åŠŸèƒ½è„šæœ¬ -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ç«‹å³åŠ è½½é¦–å±å†…å®¹ - ä½¿ç”¨åˆ†æ‰¹åŠ è½½
            renderCarouselProgressively();
            
            // å…¶ä»–å†…å®¹é€šè¿‡æ‡’åŠ è½½å®ç°
        });
        
        // åˆ†æ‰¹æ¸²æŸ“è½®æ’­å›¾
        function renderCarouselProgressively() {
            console.log("å¼€å§‹æ¸²æŸ“è½®æ’­å›¾");
            const carouselContainer = document.querySelector('.carousel-container');
            const dotsContainer = document.querySelector('.carousel-dots');
            const prevBtn = document.querySelector('.carousel-btn.prev');
            const nextBtn = document.querySelector('.carousel-btn.next');
            
            if (!carouselContainer || !dotsContainer) {
                console.error('æ‰¾ä¸åˆ°è½®æ’­å›¾å®¹å™¨å…ƒç´ ');
                return;
            }
            
            // æ¸…ç©ºè½®æ’­å›¾å®¹å™¨
            carouselContainer.innerHTML = '';
            dotsContainer.innerHTML = '';
            
            // åˆ›å»ºç«‹å³æ’­æ”¾æŒ‰é’®
            const playBtn = document.createElement('button');
            playBtn.className = 'carousel-play-btn';
            playBtn.innerHTML = '<i class="fas fa-play"></i> ç«‹å³æ’­æ”¾';
            playBtn.style.opacity = '0';
            playBtn.style.transform = 'translateY(20px)';
            playBtn.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
            document.querySelector('.carousel').appendChild(playBtn);
            
            // åˆ†æ‰¹åŠ è½½è½®æ’­å›¾å¹»ç¯ç‰‡
            function loadSlidesProgressively(index) {
                if (index >= carouselData.length) {
                    // æ‰€æœ‰å¹»ç¯ç‰‡éƒ½å·²åŠ è½½å®Œæˆ
                    initializeCarousel();
                    
                    // æ˜¾ç¤ºç«‹å³æ’­æ”¾æŒ‰é’®
                    setTimeout(() => {
                        playBtn.style.opacity = '1';
                        playBtn.style.transform = 'translateY(0)';
                    }, 500);
                    
                    console.log("è½®æ’­å›¾æ¸²æŸ“å®Œæˆ");
                    return;
                }
                
                const slide = carouselData[index];
                
                // åˆ›å»ºè½®æ’­å›¾å¹»ç¯ç‰‡
                const slideElement = document.createElement('div');
                slideElement.className = 'carousel-slide';
                slideElement.style.opacity = '0';
                slideElement.style.transition = 'opacity 0.5s ease';
                
                // æ·»åŠ ç‚¹å‡»è·³è½¬åŠŸèƒ½
                if (slide.url) {
                    slideElement.style.cursor = 'pointer';
                    slideElement.addEventListener('click', function() {
                        window.location.href = slide.url;
                    });
                }
                
                slideElement.innerHTML = `
                    <img src="${slide.image}" alt="${slide.title}">
                    <div class="carousel-title">${slide.title}</div>
                `;
                carouselContainer.appendChild(slideElement);
                
                // åˆ›å»ºæŒ‡ç¤ºç‚¹
                const dot = document.createElement('div');
                dot.className = 'carousel-dot' + (index === 0 ? ' active' : '');
                dot.style.opacity = '0';
                dot.style.transition = 'opacity 0.5s ease';
                dotsContainer.appendChild(dot);
                
                // ä½¿ç”¨requestAnimationFrameç¡®ä¿è¿‡æ¸¡æ•ˆæœç”Ÿæ•ˆ
                requestAnimationFrame(() => {
                    setTimeout(() => {
                        slideElement.style.opacity = '1';
                        dot.style.opacity = '1';
                    }, 10);
                });
                
                // å»¶è¿ŸåŠ è½½ä¸‹ä¸€ä¸ªå¹»ç¯ç‰‡
                setTimeout(() => {
                    loadSlidesProgressively(index + 1);
                }, 100); // 100msçš„å»¶è¿Ÿ
            }
            
            // åˆå§‹åŒ–è½®æ’­å›¾åŠŸèƒ½
            function initializeCarousel() {
                const slides = document.querySelectorAll('.carousel-slide');
                const dots = document.querySelectorAll('.carousel-dot');
                
                let currentSlide = 0;
                const slideCount = slides.length;
            
                function updateCarousel() {
                    carouselContainer.style.transform = `translateX(-${currentSlide * 100}%)`;
                    // æ›´æ–°æŒ‡ç¤ºç‚¹çŠ¶æ€
                    dots.forEach((dot, index) => {
                        dot.classList.toggle('active', index === currentSlide);
                    });
                    
                    // æ›´æ–°ç«‹å³æ’­æ”¾æŒ‰é’®çš„é“¾æ¥
                    if (carouselData[currentSlide] && carouselData[currentSlide].url) {
                        playBtn.onclick = function() {
                            window.location.href = carouselData[currentSlide].url;
                        };
                    }
                }
            
                function nextSlide() {
                    currentSlide = (currentSlide + 1) % slideCount;
                    updateCarousel();
                }
            
                function prevSlide() {
                    currentSlide = (currentSlide - 1 + slideCount) % slideCount;
                    updateCarousel();
                }
            
                // æ·»åŠ æŒ‰é’®ç‚¹å‡»äº‹ä»¶
                if (prevBtn && nextBtn) {
                    nextBtn.addEventListener('click', nextSlide);
                    prevBtn.addEventListener('click', prevSlide);
                }
            
                // æ·»åŠ æŒ‡ç¤ºç‚¹ç‚¹å‡»äº‹ä»¶
                dots.forEach((dot, index) => {
                    dot.addEventListener('click', () => {
                        currentSlide = index;
                        updateCarousel();
                    });
                });
                
                // åˆå§‹åŒ–ç«‹å³æ’­æ”¾æŒ‰é’®
                updateCarousel();
            
                // è‡ªåŠ¨è½®æ’­
                setInterval(nextSlide, 5000);
            }
            
            // å¼€å§‹åˆ†æ‰¹åŠ è½½
            loadSlidesProgressively(0);
        }
    </script>

</body>
</html>
